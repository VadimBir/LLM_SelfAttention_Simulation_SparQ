#include <iostream>
#include <vector>
#include <fstream>
#include <string>
#include <set>
#include <sstream>
#include <iomanip>
#include <algorithm>

using namespace std;

// Assuming 256KB L2 cache assuming Block Size 64B
class L2_Cache {
private:
    static constexpr int64_t BLOCK_SIZE = 64;
    static constexpr int64_t LOG2_BLOCK_SIZE = 6; // log2(BLOCK_SIZE)
    static constexpr int64_t l2_capacity = 256 * 1024; // 256KB
    static constexpr int64_t l2_storage_el = l2_capacity / BLOCK_SIZE;
    std::array<int64_t, l2_storage_el> l2_storage{};  // Fixed-size array for cache lines
    std::array<int64_t, l2_storage_el> lru_tracker{}; // Fixed-size array to keep track of usage

public:
    L2_Cache() {
        l2_storage.fill(-1); // Initialize with -1 to indicate empty slots
        lru_tracker.fill(-1); // Initialize with -1 to indicate empty slots
    }

    void prefetch(int64_t addr) {

        bool exists = false;
        int index = -1;

        for (size_t i = 0; i < l2_storage.size(); i++) {
            if (l2_storage[i] == addr) {
                exists = true;
                index = i;
                break;
            }
        }

        if (exists) {

            update_lru(index);
            index = -1;
            exists = false;
        } else {
            evict_lru();
            l2_storage[l2_storage.size()-1] = addr;
        }
    }



    void update_lru(int index) {
        int64_t tmpVal = l2_storage[index];
        for (size_t i = 0; i < l2_storage.size()-1; i++) {
            if (i<index){
                continue;
            }
            l2_storage[i] = l2_storage[i+1];
        }

//        for (size_t i = index; i < l2_storage.size(); i++) {
//            //cout << endl;
//            l2_storage[i-1] = l2_storage[i];
//        }
        l2_storage[l2_storage.size() - 1] = tmpVal;

    }

    void evict_lru(){
        // swap the -1 to the right side shifting everything else to the left
        for (size_t i = 1; i < l2_storage.size(); i++) {
            l2_storage[i-1] = l2_storage[i];
            l2_storage[i] = -1;
//            cout << endl;
//            for (size_t i = 0; i < l2_storage.size(); i++) {
//                cout << l2_storage[i] << " ";
//            }
        }
        l2_storage[l2_storage.size() - 1] = -1;
    }



    bool exists(int64_t addr) {
        for (size_t i = 0; i < l2_storage.size(); i++) {
            if (l2_storage[i] == addr) {
                return true;
            }
        }
        return false;
    }


    void print_cache() {
        std::cout << "Current L2 Cache Blocks: ";
        for (size_t i = 0; i < l2_storage.size(); ++i) {
            if (l2_storage[i] != -1) {
                std::cout << " " << i << ":" << std::setw(13) << std::setfill('0') << l2_storage[i] << std::dec;
            }
        }
//        std::cout << "LRU Tracker:" << std::endl;
//        for (const auto& index : lru_tracker) {
//            if (index != -1) {
//                std::cout << index << " ";
//            }
//        }
        std::cout << std::endl;
    }
};

class NextLine_Prefetcher {
public:
    int64_t previous;
    int64_t predicted_address;
    int64_t total_predictions;
    int64_t successful_predictions;
    int subseq_Hits = 0;
    int subseq_Misses = 0;
    L2_Cache cache;
    int64_t current_arressInt = 0;

    int NXT_LINE_OFFSET = 1;

    int lateBulk_cnt = 0;

    // history array holding last 16 addresses
    const static int historyLen = 16;
    std::array<int64_t, historyLen> historyArr{};
    int front = 0;



public:
    NextLine_Prefetcher(){
        previous = 0;
        predicted_address = 0;
        total_predictions = 0;
        successful_predictions = 0;
        historyArr.fill(-1);


    }
    void simulate_LRU_NextLine_prefetching(const int64_t current_addressInt) {
        this->current_arressInt = current_addressInt;

        // Update history array (right is front shifting to the left and poping the left element when full
        if (front < historyArr.size() && historyArr[front] == -1) {
            historyArr[front] = current_addressInt - previous;
            front++;
        } else {
            // Shift elements to the left
            for (size_t i = 0; i < historyArr.size() - 1; i++) {
                historyArr[i] = historyArr[i + 1];
            }
            // Update the last element
            historyArr[historyArr.size() - 1] = current_addressInt - previous;

            // Reset front to the last position
            front = historyArr.size() - 1;
        }

        // Predict the next line (hex string to int, increment, int64_t to hex string)

        //cout<<total_predictions<<" curr "<<current_addressInt<<" prev "<<previous<<endl;
//        if (total_predictions == 9486){
//            cout<<"FLAG";
//        }

        if (total_predictions != 0 && cache.exists(this->current_arressInt)) {
            successful_predictions++;
//            cout <<"Dbg: "<< subseq_Hits ;
//            if (subseq_Hits>500){
//                cin>>subseq_Hits;
//            }
            subseq_Hits++;
            subseq_Misses=0;
//            cout <<" :0: "<< subseq_Hits ;
//            if (subseq_Hits>500){
//                cin>>subseq_Hits;
//            }
        } else {
//            for (int i = 0; i < historyArr.size(); i++) {
//                //cout<<i<<": "<<historyArr[i]<<" ";
//            }
            //cout<<"\nPrev: "<<std::setw(13) << std::setfill('0') <<previous << " :"<< " Î”:"<<std::setw(13) << std::setfill('0')<<(current_addressInt-previous)<<" ";
            subseq_Misses++;
            subseq_Hits = 0;
            cache.prefetch(this->current_arressInt); // to upd LRU tracker;
        }

// OVERFITTING WAY
int64_t addr_historyArr[] = {-5, -15, -8, -6, -4, -62, -83, -37, -111, -1, -1, 112, -1, 25, 8, 1, -146, 129, -1, 164, -313, -1, -83, -22, -1, 22, -5, 1, 109, -7, 144, -145, -3660722146641, 3660722146530, -3660722146587, -1, 8, 3660722146586, 528752230639, -8, -12, 16, -98, -1, -5, -16, -1, 18, -10, 6, -46, -1, -1, -1, -99, -18, -78, -1, -38, -64, -64, -64, -121, -18, -78, -1, -38, -64, -64, -2453782908672, -75, -78, -1, -38, -64, 242814797504, -64, -121, -32, -1, -95, -7, -64, -64, 2210968112673, -1, -1, -1, -1, -1, -284, -64, -65, 326, -22, -83, -1, 10, -11, 10, -1, -10, 194, -1, -1, -183, -1, -1, 84, -6, -89, 10, -11, 10, -1, -10, -1, -1, -465, -64, -65, -2453782908672, 2453782908934, -22, -74, -11, 10, -11, -1, 10, -1, 83, -95, 11, -12, -1, -1, -1, -2210968111755, -242814797254, 242814797440, -242814797441, -64, 242814797504, -64, -122, -242814797142, -83, -1, 10, -11, 10, -1, -10, -1, 10, -11, 10, -1, 84, -6, -88, -1, 10, -11, 10, -1, -10, -1, -1, 2453782909002, 88, -6, -93, -3, -1, 102, -6, -100, -1, -1, -1, 10, 98, -111, 9, 182, -1, -182, 181, -182, 97, 6, 78, -1, -1, -1, -1, -182, -1, 102, 79, 379, -6, -93, -1, -1, 10, -1, -10, -1, 10, -11, 103, -6, -98, -1, -1, -1, -1, 107, -109, -2, 191, -1, -2210968112506, -6, -64, -64, 63, -127, -1, -242814796812, 2453782909437, -6, -77365005307, 77365005390, -2453782909613, 2376417904229, 77365005383, -2453782909615, 1, 2453782909431, 182, -2210968112407, -1, 2210968111955, -2210968111965, -1, 10, -11, -242814797195, 2453782909161, -2210968111956, 2210968111955, -2210968111956, 2133603107028, 77365005382, -1, -77365005387, -2133603107032, -1, -1, 10, -242814797203, 2453782909432, 102, 78, -521, -6, 74, -1, -2453782909055, -6, -98, -1, -1, -1, -1, -1, 10, 98, -6, -103, -1, -1, 242814797311, -1, -242814797200, -6, 242814797204, 2210968111857, 464, -10, -1, 10, -2210968112321, -1, 2210968112311, -2210968112312, -2, 2210968111861, 11, -12, 452, -442, 441, -452, -2453782909059, 242814797199, 2210968112311, -2210968112312, 2210968112311, 10, -2210968112322, 2210968112311, -2210968112302, -10, -98, 97, -98, 97, 2210968111872, -10, -2210968111949, -11, 2210968111959, -1, -77365004916, 77365004851, 64, -1, 11, 454, -466, 456, -2210968112416, 2210968112415, -2210968112416, 2133603107047, -6, -2133603107042, -1, 2210968112425, -11, -2210968112417, 10, -11, 2210968112417, -2210968112407, -1, 2133603107043, -6, -2133603107047, 2210968112416, -2210968112417, 10, 2210968112405, -2210968112417, -2, 9, 2133603107048, 77365005307, 53, -2210968112419, 2210968112428, -2210968112418, -11, 2210968112428, -11, -2210968112418, -1, -1, 9, 2133603107047, -2133603107057, -1, -1, 10, -11, -1, 10, -11, -242814797067, 242814797194, 2210968111856, 442, -1, -432, -1, 443, -506, 441, 54, -443, 452, -2210968112309, 2210968111856, -2210968111857, 2210968112308, -2210968112432, 2210968111979, -1, -2210968111981, -1, 2133603107072, -6, 77365004914, 10, -11, -2210968111982, -1, -1, 2210968111982, 11, -2210968111983, 2210968111982, -2210968111993, 9, -10, 2210968111982, -2210968111983, 10, -11, 2210968111993, -11, -1, -1, 10, -11, -45, 44, -1, 10, -2453782909034, 242814797181, 2210968112301, -1, -2210968112302, -1, 10, -1, -242814797194, 242814797184, -1, 10, -11, 2210968112315, -1, -2210968112316, 10, 2210968112295, -2210968112296, 2210968112295, -2, 8, -48, 37, -2210968112301, 2210968111861, -10, 448, -2210968112290, 2210968112299, -45, -2210968112267, -122, 10, -11, 10, 2133603107066, -2133603107077, -1, -1, 2210968112435, -2210968112437, 2210968112426, 9, -11, 10, -11, -2210968112424, 2210968111992, -44, -6, -77365004861, -2133603107082, 2133603107088, 77365004892, -2, -2210968111849, 2210968112305, -38, -6, 34, -77365005377, 77365004930, 9, -2210968111987, 2210968111943, 34, -77365004993, -1, 77365005002, -1, -77365005002, -1, -2133603106852, 2133603106851, -2133603106852, 10, 2210968111810, 485, -1, -2210968112305, 9, -10, 2133603106919, 77365005386, -2210968112306, -115, 114, -125, 2210968112397, -2210968112398, -1, -1, 2133603107086, -2133603107087, -1, 10, -11, -1, -1, -1, 2133603107097, -6, -2133603107092, -1, -1, -1, -2, 150, -1, -242814797179, 242814797169, -1, 10, -11, -1, 2133603106960, -2133603107100, -2, 140, 2133603106961, -2376417904126, 242814797024, 2133603107108, -2133603106969, 2133603106804, -2133603106805, -1, -1, -1, -242814797154, -6, 242814797159, 8, -134, 122, 10, 2133603106801, -2133603106812, 2133603106811, -2133603106934, 122, 2133603106751, -1, -1, -1, -1, -2376417903896, 2453782909554, -1, -1, -2210968112529, 99, 2133603106713, -64, -64, 127, -191, 127, -64, -64, 480, -2133603107012, 11, -1, -11, 2133603107011, -1, 77365004811, -1, -77365005350, -2376417903641, -1, 2376417903578, -64, -64, -64, 191, -64, -64, -64, -2376417903328, -58, -3, -1, -1, 68, -6, 2376417903266, 319, -383, -65, 64, -2526099751167, 149681847965, -149681848029, 149681848028, -1, -149681847964, 914608276545, -914608276609, 914608276608, -63, -1, 1688856480928, -67, 10, -1, -1, -1, -1, -445, -1, -1, -2210968111715, -1, -242814797215, -6, 242814797216, -242814797217, -1, 2376417904131, -2133603107035, -1, 2133603107035, -2376417904131, 2453782909386, -1, 68, -6, -63, -1, 69, -6, -2453782909447, 242814797200, -1, 2210968112253, -523, 10, -1, 68, -2210968111809, 2210968111803, -72, -77365004792, -6, 77365004807, -77365004808, -2133603107056, -1, 2210968112373, 6, -2210968112381, -1, -242814797070, 2453782908937, -1, -1, -2210968111742, 2210968111813, -6, -79, -2453782908922, 2453782909005, 95, -1, -95, -6, 5, -2210968111934, 2133603107060, -2133603107061, -1, -1, -1, 8, 2133603107055, -2133603107066, 2133603107071, -6, -2376417904129, 2453782908997, 457, -77365005326, -1, 5, 77365005315, 103, -548, -2453782909003, 2453782908997, 80, -1, -1, -77365005093, 77365005092, -77365005094, 77365005093, 477, -103, -375, 374, -376, 459, -527, -77365005019, -1611491475520, -64, -64, -1, 64, -522111631258, -11, 2210968111949, -2210968111939, 2210968111929, -2210968111940, -1, 11, 2210968111929, -2210968111930, -11, 10, 2210968111930, -71, 70, -2, -1, -1, 10, -11, -2453782909061, 2453782909452, 74, -456, -69, -2210968111865, 2133603106990, -2133603107000, -1, 2210968112400, -77365005605, -2133603106796, 2133603106795, -2133603106785, -1, 2210968111862, 65, -2210968111928, -1, 2133603106994, 77365004934, 463, -1, -76, 75, -1688856481248, -64, -65, 64, 1688856480850, -2453782909058, -51, 2453782909117, -65, 518, -2453782909571, 10, -11, 10, -1, -10, -1, 2376417904180, 77365004934, 459, -1, 11, -12, -2453782909572, 2453782909581, -80, 6, 64, -466, -2453782909096, 52, -62, -1, 10, -1, -11, 2453782909573, -520, -77365004944, -1, -2376417904109, 11, 242814797155, -242814797101, -6, -61, 2453782909574, -77365005382, -6, -2376417904189, 2453782909586, -2453782909579, 56, 2453782909447, 65, -77365005381, 77365005379, -2453782909569, 2453782909568, -1, -2210968112401, 2210968112400, -61, 60, -77365005382, 77365005381, 10, -514, 501, -1688856481418, -64, -64, 1688856481555, -66, -2453782909446, -61, 2453782909562, -2453782909565, 242814797301, -1, 2133603106817, -1611491475969, -64, 1611491476103, 77365005322, -449, -51, 506, 54, -2453782909507, 2453782908956, -11, 10, -11, -1, 10, -77365004834, 77365005385, -77365005386, 77365004833, 46, -56, -1, -1, 10, -11, -77365004822, 77365004830, 56, -6, -61, -1, -1, 9, -10, -2453782908927, -6, 2453782909407, -1688856481511, -64, -64, -64, 191, -64, -64, -64, 1688856481744, -51, -1, 10, -11, 10, -1, -10, -1, 10, -11, 10, -1, 46, -56, -1, 10, -11, 10, -466, -77365004807, 6, 77365004800, 71, -6, -2210968111918, 2210968111852, -1, -2210968111853, -1, 2210968112309, -77365005260, -2133603107050, 2210968112309, -2210968112311, 2210968112310, -2210968112311, -1, -1, 2133603107060, -6, -2133603107055, 2210968112376, -66, -2210968112311, -1, 2210968111872, -2210968111873, 2210968111872, -2210968111873, 2210968112313, 10, -1, -1, -2210968112323, -1, -1, -1, -1, -1, 2133603107070, -1611491476486, 1688856481802, -2210968112380, 2210968111938, -2210968111788, 522111630427, 1611491476353, 77365005120, -1, -112, 380, -1, 182, -77365005573, 77365005572, -1, -3530274517055, -64, 63, -64, -63, -65, 3530274517065, -2210968112167, 2210968111719, -1, -2453782908930, 242814797211, -1, -72, 2210968111788, 70, -2210968111861, 74, -75, 2210968111981, -1, -2210968111907, -1, -242814797201, 2453782908990, -2453782908996, 242814797206, -1, -4, 2210968111794, -2210968111862, -242814797134, 242814797201, -1, 10, -11, 2210968111796, 5, -6, 86, -2210968111948, 73, -10, 2210968112255, -2210968112256, 10, -73, 62, 10, 2210968111790, 6, 80, -2210968111887, 2210968111885, -2210968111949, 2210968111948, 367, -368, -1688856481434, 1611491476486, -2133603107000, 64, 2210968112345, -2210968112346, -242814797186, 242814797184, 10, -11, 10, -1, -10, -1, -1, 2210968111888, -1, 10, -11, -1, -2210968111943, -1319306404873, 1076491607750, 2376417903931, -2133603106809, 10, 2133603106798, -1, -2133603106743, -66, 10, 2210968112314, -77365005518, -1611491476289, -522111630519, -1, 10, -1, -11, -1, -1, 522111630523, 1688856481352, 76, -1, -3530274516941, -64, -64, 3530274517077, -10, -3530274517131, 191, -64, -64, -64, 3530274517131, 10, -11, 384, -2210968112322, 522111630521, 1688856481795, -380, 461, -1, -1, -1, -2210968112396, 2210968112395, -1688856481873, 1688856481801, 81, -11, -2453782909558, 10, -11, 2453782909112, -10, -1, -1, 9, -3530274517196, 3452909512193, -1, -1, 77365005454, -453, 464, -2453782909559, 2453782909547, 9, -10, -1, -2453782909556, 2453782909555, -2453782909557, 2453782909491, -2453782909492, 2453782909556, -2453782909557, -1, 9, -1076491607709, 1076491607699, -1, 10, 2453782909101, -2210968111945, -242814797167, 764926427690, 6, 1611491476414, -3452909512316, -64, -64, 127, -64, -128, 64, 1076491608332, 10, -1076491608086, 3530274517639, 9, -10, -2, -3530274517637, 3530274517078, -1, -1, -1, -2453782908999, 56, -57, 2453782909561, -3530274518018, 3452909512640, -1, 77365004868, -3530274517126, 3530274517075, -77365004818, -1611491476481, -6, 1688856481304, -2453782908999, 2453782908996, 505, -77365005320, -1, 77365004815, -3530274517515, -64, -64, -64, 127, -64, 192, 3530274517447, -1, -2453782908991, 2453782909502, -2453782909503, -1076491607690, 6, 1076491607683, -1, 10, -1076491608076, -6, 3530274517064, -2453782908983, 2453782908982, -2210968111682, -1, -1, -1319306404990, 1319306404989, -242814797302, 242814797301, 2210968112150, 11, -1688856481767, -1, -764926427699, -1076491607683, -6, 1319306405000, 522111630387, 5, -6, 1688856481486, -1, -182, -2210968111864, 2210968112045, -2210968112046, 2210968111864, -3530274517452, 387, 3530274517520, -3530274517526, 3530274517252, 273, -2210968112320, 2210968112046, -185, -1688856481298, -522111630564, -1, -1319306404815, 1319306404814, 2210968112321, -2210968112323, 2210968112322, -1, -2210968112322, 2210968112377, -3530274517958, 3530274517902, -1688856481753, -522111630569, 2210968112321, -2210968112322, 2210968112321, 9, -10, -3530274517512, 1319306405201, -11, -1, -1, 2210968112322, -1688856481749, -522111630574, 2133603106943, -2133603106934, 2133603106933, 77365005390, -3530274517901, 764, -770, 3530274517897, -3530274517133, -383, 3452909512135, -1, 77365005570, -77365005571, -3452909511751, 6, 1319306404810, -1319306404817, 3530274517322, -77365005572, -1, -3452909512506, -6, 3530274518084, -3530274517316, -6, -1076, -64, 759, -823, 63, -127, 63, -64, 3452909513018, -1611491476362, -1, 1688856481934, -182, -3530274517134, -6, 1319306404953, 2210968112367, -2210968112368, -1, -1319306404952, 1319306404951, -1, -1319306405323, 1319306405322, -1, 2210968112190, -1, -2210968112190, -1, -1319306405326, -374, 753, 3530274517329, -2210968112383, 2133603106751, -1, -1, -1, -1, -2, -2, 77365005639, -1, -3530274518655, -64, -64, 3452909513146, -3452909513210, 191, -64, -64, -64, 1520, -379, 1841418035769, 1688856481936, -3530274518079, 3530274518077, -3530274517698, 373, -379, 384, 1841418035385, -522111630498, -1319306404894, 1319306404893, -1319306404894, -378, 1319306405269, -1, 522111630502, -522111630503, 2210968111937, -3530274517583, 1319306405770, -1, 2210968111813, -3530274516826, 3530274516825, -3530274517197, -6, -380, 1319306405646, 2133603106942, -2133603106943, 121, 2133603106820, -1, -2, -1, -1, -3452909513401, -64, -64, 1319306406591, -1319306406655, 191, -64, -128, 1770, -378, 1319306405263, -1319306405643, 6, 1319306405767, -132, 127, -1319306405012, 6, 1319306404877, -1319306405634, 1841418036145, -1841418035771, 1319306405266, -3, 522111630507, -522111630509, -2, -1319306405260, 5, -6, -373, -6, 3530274518039, -3530274517661, 378, 3530274516891, -1, -3530274517269, 3530274517268, -1, 392, -394, 393, -3530274517280, -756, 3530274518034, -77365005377, -1, -1, -1, -1, -1611491476504, -1841418036144, 3452909512646, 77365004990, -77365004991, -1, 77365005294, -3530274519015, -64, -64, -64, 191, -64, -64, -64, 1264, 3530274517942, -3530274517186, -378, 3530274517270, -3530274517271, 3530274517266, 298, -1, -3530274517564, -377, 376, -1, 387, 1841418035388, 6, -1841418036157, 756, 5, -386, 380, 3452909511712, -1611491476317, 1611491476309, -1, -3452909512084, -1699, -64, -64, -64, 191, 1331, -6, 755, 1076491607750, -1, -1, -2, -1076491607747, 1841418035401, -1841418035402, 1841418035396, 5, -6, -1841418035775, -374, 759, 3452909511772, -1, -5, -2133603106833, -1, -1319306407270, -64, -64, 3452909514231, -3452909514295, 191, -64, -64, -64, 3452909514295, -1611491476375, -522111630458, -1319306405317, 3530274517218, 510, -1, -1, -1, -2210968112412, 522111630461, -522111630366, -1, -95, -1, -1319306405686, 1319306405685, -1, 2210968112410, -3530274517341, -1, -1, 3452909511847, -3452909511848, -751, 756, 3452909511836, -3452909511842, 3530274516753, -1, -3530274519334, -64, 1319306407653, 522111630397, -522111630491, -1319306405664, 3452909512592, -3452909514424, -127, -1, -63, -1, 128, 3452909514487, -3452909512215, 3530274517126, -1, -1, -1688856481352, -1841418035398, 1319306405003, -96, 2210968111841, -2210968111842, 522111630491, -1841418035391, 1319306404904, 522111630486, -1841418035771, 3530274517122, 583, -1688856481930, -1841418036151, 3530274517496, -1, 585, -1, -1, -2210968112445, 522111630517, -1841418035775, 3530274517701, -1, -1688856481931, -522111630512, -1, -1319306405632, 1319306405631, 2210968111858, 584, -3530274517692, -6, 3530274517697, -1, -1, -2, 10, -3530274518073, 3530274518062, -3530274517693, 1319306405373, 2210968112319, -1, 10, -2210968112330, 2210968112319, -2210968112308, -126, 114, 9, -1319306405003, 1319306405002, 2210968111907, -2210968111908, 2210968111907, 416, -3530274518076, 1319306405750, 2210968112321, -2210968112442, 119, -1319306404998, 1319306404871, -1319306405623, 751, 1319306404881, 2133603106847, -1, -3452909512103, 3530274517675, -2210968112421, -1, -1319306405629, 1319306405628, 2133603106841, -2, -2133603106840, 2133603107045, -1, -7, -2376417904146, 2376417904145, -1, -3452909514742, -64, 3452909514612, -3452909514676, 127, -191, 127, -128, 3024, 1076491607757, 242814797118, -242814797119, 764926427645, -6, 5, -6, -522111630528, 2210968112342, -1, -3530274520294, -64, -64, 1076491610979, -1076491610852, -128, 1841418038609, 1611491476400, -1, -2376417904039, -1076491611032, 1841418038677, -1841418036150, 3452909512534, -1, 77365005415, 10, -2210968112255, -1319306408294, -64, -64, -64, 3530274520730, 10, -1, -10, -1, 10, -2453782909441, 242814797179, 2210968112251, -2453782909431, -1076491607756, 1319306404935, 10, -1319306404951, 1319306404940, 10, -1, -242814797197, 9, 242814797177, 2210968112265, -2210968112256, -1, 522111630452, -6, -522111630447, -242814797185, -1, 764926427638, -764926427649, 242814797181, -1, -1319306405674, -6, 3530274517944, 10, -313, 312, -11, 10, -1, -10, -1688856481799, 1688856481798, 10, -3530274517199, 1076491607747, 9, -1076491608131, 3530274517263, -3530274517640, 3530274517939, -1, -3530274517181, 3530274517187, -3530274517939, -6, 3530274517941, -301, -2, 300, -1, -300, -3530274517260, 3530274517259, -1, -3530274516884, 3530274516883, -2, 10, 474, -3530274518118, 3530274517633, -3530274517249, -6, 3530274517254, -1, 10, -2210968111844, -1319306405798, 3530274518118, -3530274518119, 1841418036147, -1841418035393, 3530274516876, -1, -2210968111958, -1319306405292, 6, 3530274517243, 9, -11, -1, -3530274516872, 3530274516879, -1688856481481, -1841418036153, 1841418036147, 1688856481944, -2210968112417, -1319306405294, 3530274517244, -3530274517619, 1319306405797, 2210968111821, -3530274517624, 3530274517634, -11, -1, 464, -456, -3530274517244, 3530274517699, -3530274517705, 3530274517703, -456, -3530274516872, 3530274517326, 10, -11, -3530274518082, 3530274518079, -1688856481925, -522111630374, -1319306405399, 3452909512241, -1611491476474, 1688856481929, -1688856481930, -1841418035386, 3530274517325, -77365005465, 77365005002, -1, -77365005002, -2133603106844, 2210968111845, -77365005011, -3452909512611, 3530274518075, 7, -77365005472, -1, -3452909512604, 3530274517519, -3530274520358, -64, -64, -64, 3530274521105, -3530274520914, -64, -64, -64, 1841418039174, -1841418035766, 3530274517133, -2210968111872, 2210968111881, -11, -1688856481360, -522111630512, 2210968111870, 10, -2210968111882, 2210968111871, -2210968111872, 2210968111882, -1, -3530274517138, 3530274517128, -1, -2210968111871, 2210968111881, -2210968111882, 2210968111871, -1688856481361, -522111630511, -1, -1, 2210968111883, -2210968111884, 2210968111874, -2210968111875, 2210968111874, -2210968111732, 2210968111731, -2210968111732, 2210968111742, -1688856481363, 1688856481352, -1688856481358, -522111630516, 2210968111873, -2210968111732, 2210968111742, -77365004825, -3452909511932, 1319306405014, -1, -1, 9, -10, -1, 10, -11, 10, -1319306405020, 1319306405009, -1, -1, 10, 2210968111729, -3530274520588, 1319306408708, 2133603107054, 2, -2133603106916, -1, -1, -1319306408911, -64, -64, -64, 3452909516020, -3452909515829, -64, -64, -64, 3344, 3530274517501, -3530274516746, 3530274516745, -2210968111741, 2210968112205, -3530274517583, 3530274517118, -1, -77365004937, -2133603106803, 2210968111738, -1, 8, -3530274517123, 3530274517301, -1, -77365005133, -2133603106791, -1319306409163, 1319306409162, -1, -1319306409225, 3452909516017, -3452909516081, 127, -191, -1, 128, -64, 3452909516081, -2133603106836, 44, -1319306409415, 1319306409369, -1319306404947, 1319306404992, -37, -11, 522111630445, -1841418036144, -3094, 1319306408792, -1, -1, 46, -37, 2133603106788, -2133603106741, -57, -1319306404941, 3452909511738, 77365005000, -2210968111798, -1319306405320, 1319306405319, 10, -1319306408798, 1319306408787, 2210968112261, -2210968112262, 10, 45, -1319306404993, 1319306404937, 2133603106788, -2133603106778, 2133603106777, 77365005475, -466, -3530274517113, 3530274517304, 272, -273, -2453782909145, -1076491612263, -64, -64, 127, -128, 3452909516337, -3452909516145, 1076491612189, -1, 10, -1076491608536, 3530274517955, -2453782909430, 2453782909429, -1, 10, -2453782909439, -1, 10, 242814797161, 2210968112257, 11, -1, -281, -3530274520769, 1319306408782, -242814797171, -1076491608143, 1076491608152, -10, -1, 242814797172, -1, -1319306405307, -3474, 1319306408776, 9, -11, -1319306405307, 1076491608153, 2453782909419, -1, -1, 10, -12, -1, -3530274517940, -6, 1319306405685, 2210968112259, 10, -2210968112270, -1319306408767, 1076491611613, -12, -1076491611607, 3467, 3530274517275, 299, -3530274521614, 3530274521311, 484, -1, -3530274518127, -6, 1076491608518, -1, -1, -1, -1, -1, 2453782909618, -2453782909609, -11, 10, -11, 10, -1076491611609, 1076491611598, -1, -1076491611591, -580, 1076491612168, -1076491608127, 3530274517270, -1, -1, -3530274517647, 1076491608505, 242814797311, -1, -242814797302, 242814797301, 2210968111831, -3530274521302, -6, 1319306409475, 2210968111832, -2453782909136, 2453782909135, -1, -3530274520731, 3094, -3669, 3530274521314, -3530274517651, 3530274517640, -1, -3530274517261, 3530274517260, -1, 10, -3530274517648, -3657, -6, 3530274521298, -3530274520724, 3530274520723, 9, -3530274517259, 3530274517249, -1, 10, -3530274517637, 3530274517626, -1, -2, 9, -10, -3530274521538, 3452909516545, 77365005002, -77365005003, -1, -1, -1, -3452909512632, -3088, 3452909515709, -1, -3452909516593, -64, -64, 444, -317, -64, 375, 3530274521762, -1, -2, -3530274518098, 3530274517537, -1, 560, -1, -3, -3530274518093, 3530274518092, -1, -1, 10, -11, -3530274521175, -822, 3530274522006, -11, -2210968112436, 2210968112435, -3530274521173, 1319306408737, -1, 2210968112436, -2210968112437, -1, -1, -1, 2210968111887, -3530274521193, 3530274521182, -1, 574, -3530274517709, -4294, 3530274521427, 565, -3530274521171, 1319306408732, -1, 2210968111873, -2210968111874, 2210968112439, -3530274518077, 3530274518076, -3530274522242, 3452909516865, -2133603107062, 2133603107061, -2133603107062, -1, 2210968111875, -1, -3530274520596, -6, 3530274521177, -77365005387, -2133603107064, 2210968111885, -3530274521432, 3530274521421, -1, -1, -1, -77365004808, -2133603107064, 2133603107063, 77365005385, -77365005396, -1, -1, -3452909516912, -64, -64, -64, 63, 128, -64, -128, 3530274521926, 10, -3530274521422, -6, 3530274521417, -1, 10, -2210968111880, -1, -1, -1319306405631, -3665, 1319306409440, 2210968111917, -182, -2210968111738, -1, -1319306409437, 1319306409436, -1, -1, -1, -1, 10, -11, -1319306408857, 3530274520783, -2210968112061, 2133603106943, -2133603106799, -1319306409435, 3452909516232, -2133603106808, 2133603106807, -2133603106934, 2133603106933, -15, 1, -2133603106793, -1319306409670, -6, -570, 1319306410245, 2210968111928, -3530274522237, -1, -63, -1, -63, -1, 3452909517230, -3452909515646, 1319306408853, -1, -1, 2133603106751, -2, -1, -2133603106742, 2133603106741, 77365004997, -3530274521411, 3452909516400, -1, -1, 77365005203, -3530274520787, 1319306408803, -1, -1, 2210968111985, -1, -3530274520786, 1319306408798, -1, 10, -11, 10, -11, -1, -1319306409865, -637, 3530274522768, -2210968112267, -1319306410565, -64, -64, 127, 64, 3530274522762, -3530274522954, 1900, -572, 3530274521625, -2210968112261, 10, -1319306409622, 3530274521872, -2210968112251, -1, -10, -1, -1, -242814797147, -1076491612462, 820, 1319306408788, -1, -1319306409608, 3530274521882, -1, -3530274521632, 6, 1319306409360, -1319306408795, 1319306408793, -1319306409863, 6, 3530274522115, -1, 10, -2453782909423, -1076491611632, -826, 3530274521870, 9, 182, -1, -182, 181, -3530274522303, -6, 3530274522308, -1, -3530274521808, 3530274521625, -1, -3530274521054, 1076491611624, -1, -1, -2, -1076491612684, 493, 1076491612190, -3, -1, 10, -1076491612439, 3530274521572, -2453782909144, -1076491612679, -6, 3530274522298, -3530274521793, 565, -571, -243, -6, 1076491612432, 10, 242814797301, 2210968111818, -2210968111819, -1, -242814797302, -1, -1076491612184, -6, 1319306409492, -1, -242814797305, 2453782909126, -2453782909127, -1076491612186, 3530274521312, -1, -1, 480, -3530274522283, 3530274522282, -3530274521217, 3530274520736, -2, -3530274521307, 1319306409482, -1319306408910, -573, 1319306409472, 2133603106842, -1, -3452909516314, 1319306409472, -1319306409970, 3452909516811, -1, -1, 77365005001, -77365005015, -1, -3452909516297, 3530274521218, -1, -3530274522598, -64, -64, -64, -1, 3452909517870, -3452909516542, 3530274521462, -3530274520637, -6, -1071, 6, 3530274521705, -3530274521460, -252, 1071, -573, 1319306409472, -1319306408900, -813, -6, -246, -6, 3530274522272, -12, -3530274522009, 3452909516499, -2133603106937, -1319306409557, 242, 3530274521373, -2210968111961, 42, 2133603106778, -3452909517867, -64, 63, -64, -63, -64, -1, 3452909518059, 77365005141, -3530274521871, 1071, -1065, 250, -6, 3452909516631, -2133603106971, -1, -1319306409412, 1319306409408, -1, -1319306408834, 1319306408833, -1, -1319306408827, -6, -1064, 3452909516858, -1, -1, 77365005306, -77365005480, -3452909518079, 3452909518060, -1, -3452909518123, -64, -1, -63, -1, 1584, 3530274522167, -1, -2, 1, -77365005498, 77365005495, -3530274521912, 819, -2716, 3530274523808, -3530274523872, -64, 3530274523934, -1, -3530274522160, -1838, 64, 2272, 1076491612221, 10, -1, 2453782909147, -2453782909149, -2, -1, -1076491612472, 819, 1076491611651, -1, 2453782909138, -1, -1, -3530274521360, 1319306409378, -1319306409624, 819, 3530274520784, -3530274521352, 3530274521349, -3530274521355, -246, 3530274521600, -3530274521851, 3530274521850, -2, -2, -3530274521596, 6, 3530274521589, -2, -1, -2, -3530274521344, 574, 1319306408807, 2210968112447, -3530274522325, 1319306410006, -1, -1319306409503, -6, -497, 1071, 1319306408791, 2210968111984, -3530274521596, 1319306409610, -1319306408790, 3530274520773, -2, 486, -2210968112470, 2210968111983, -3530274521591, -244, -6, 497, 3530274521813, -3530274521808, 3530274521807, -3530274521813, -497, 3530274522308, -3530274522303, -6, 3530274522304, -3530274522053, 1319306409605, -1, 2210968112448, 10, -491, -3530274521823, 3530274522298, 11, -3530274521812, 1319306409488, -1, 2210968112313, -3530274522046, 3530274521570, -2210968111967, -1, 2210968112453, -11, -3530274522296, 3530274522294, -1, 10, -11, 9, -77365005473, 77365005472, -77365005473, -3452909515754, -1074, 3530274522298, -2210968112447, -1319306409353, 1319306409362, -10, 129, -1, 2133603106829, 77365004925, -3530274523623, -64, -64, 2516, 3452909516311, -3452909518700, -191, 127, -128, 64, 1319306412004, -1319306409732, 3530274521469, -2210968111873, -1319306409849, 1319306409858, -1319306408784, 1319306408774, 135, -10, 2210968111748, 11, -2210968111750, -136, 2210968112445, -3530274521794, 3530274521233, -1, -10, -1, 10, -2210968111874, -11, 2210968111884, -2210968111874, -1319306408780, 1319306408769, -1, -1319306409589, 6, 1319306409592, 2210968111865, 11, -1, -11, -3530274521716, 3530274521726, 548, -2210968112425, 2210968111876, -2210968111753, -1319306409469, -6, 1319306409350, 2133603107048, -2, -17, 77365005306, -3530274524326, -64, 3452909519083, -3452909515802, -577, 3452909516208, -1, -3452909515631, 6, 3452909515603, 88, -90, -2376417903936, 2376417904024, 1, -2376417904026, 2376417904024, -1, -85, -3452909518952, -64, -64, -64, 191, -64, -64, 2896, 3452909516248, -3452909519271, 320, 3452909518953, -3452909518890, -64, 1319306412136, 2210968112254, -2210968112255, -1319306412518, 3452909519336, -3452909519400, -64, -1, 128, -64, 3530274524837, -465, 454, -2, 10, -1, -3530274522178, 1319306409917, 10, -11, 10, -11, 2210968112262, -2453782909445, 2453782909434, -2210968112252, 2210968112262, -2453782909434, 2453782909433, -462, -3530274521460, 1319306409660, 2210968112261, -2210968112251, -1, -242814797191, -1076491611659, 1319306408840, -242814797182, 11, -1, 2453782909149, -2453782909150, -1076491612740, 1076491612739, -1076491612242, 1319306409425, -242814797184, -11, 10, -1, -10, -1076491612474, 3530274521639, -2453782909157, -1076491612238, 1076491612234, -1, 242814797182, 2210968112250, -2210968112240, -1, -10, 2210968112261, -2210968112252, -11, -1319306408836, 1319306408835, 2210968112261, -2210968112262, -1319306409907, 496, 6, -250, 1076491612473, 242814797181, 2210968112258, -2210968112260, 9, -1319306408835, -6, 3530274521091, -2210968112253, -1319306409905, -6, 1319306410021, -1, 2210968112321, -1, -3530274522341, 253, -248, -6, 260, 235, 1319306409413, -1319306409909, 260, -6, 3530274521616, -1, -3530274521374, -496, 3530274522325, -2210968112428, -1, 104, -1319306408925, 1319306408829, -1319306409409, -496, 3530274521867, -3530274521612, 3530274521611, -3530274520785, 3530274521239, -1, -3530274521244, 3530274520789, 9, -3530274521372, 1319306409491, 8, -1, -1319306409499, -6, 3530274521821, -2210968112329, -1, -1, 10, -11, -1319306409484, -6, 3530274521368, 9, -3530274521610, -6, 3530274521606, -2, -3530274521859, 3530274522315, -1, -3530274521239, 3530274521247, -3530274521829, 3530274521364, 454, -455, 454, -444, 453, -3530274522320, 3530274522310, -1, -1, -1, -1, -3530274525077, 3026, 3530274521601, -1, 10, -1, -12, 453, 9, -2210968112435, -2, 89, 2133603106750, 77365005588, -443, -3530274521607, 3530274521596, -77365005135, -2, 77365005590, -454, 10, -11, 465, -11, -1, -1, -1, -3530274522301, 3452909516691, 77365005609, -77365005610, 77365005609, -450, -1, 450, -451, -3530274521348, 1319306409375, -1319306412708, -64, -64, -64, 191, -64, -128, 256, 3530274525067, -3530274522041, 3530274521591, -1, -3530274520770, 3530274520780, -2453782909119, -1, -1076491611654, 1319306408789, -1319306412643, 1319306412642, 2210968111975, 9, -10, -3530274521589, 3452909516593, -1, -2133603106978, 9, 2133603106966, -20, -1, -1, 77365004928, -3530274524839, -64, -64, -64, 191, -64, -64, -64, 3536, 1319306409613, 10, -11, 2210968112429, -2210968112419, 2210968111862, -3530274524511, 3530274524521, -2210968111883, -1319306412639, 3530274524511, 10, -13, -2210968111871, 9, -10, -1, -1, -1319306409861, 1075, 1319306408785, 2133603107053, -2133603106881, -1, -1319306412799, -6, 3530274524508, -1, 11, -1, 556, -77365005387, -2133603107043, 2210968111873, -1, -2210968111883, 2210968111872, 10, -3530274524509, 3530274524498, -77365004819, 77365005387, -3530274522044, 3530274521475, -1, 10, -77365004848, -1, -1, 77365004839, 10, -3530274525144, -64, -64, -64, -1, 128, -64, 3530274525261, -3530274521725, 3530274522189, 9, -2210968112166, -1319306412800, 3021, 3530274521470, -1, 11, -1, 465, -11, -2210968112328, 2210968112338, -1, -1, -3530274524963, 1319306412625, -1319306409857, 3530274522184, -1, 11, -1, -11, 10, -1, -10, -1, -1, -3530274522180, 6, 3530274522172, -1, 10, -1, -2210968112318, -11, -1319306409858, 3530274522174, -445, -2210968111872, -1319306412629, 1319306412627, -1, -1, 2210968112320, -2210968112310, -1319306408780, -4742, 1319306413511, -1, 9, 2210968112048, -2210968112059, 2210968112323, -2210968112325, -1319306412620, 3530274524944, 9, -3530274521926, -249, -6, 1319306409857, 2210968112311, 10, -3530274525837, 4742, 3452909515706, -3452909516535, 3530274521923, 180, -1, -3530274522357, 3530274522355, -3530274525127, 3452909519561, 77365005122, -2, 263, -3530274524945, 3530274524944, -3530274521911, 3452909516527, -3452909516788, 255, -256, 3452909516765, -1, 2, -2133603106815, -1319306413735, -64, -64, -65, 192, -64, 4104, -3912, 1319306413597, 61, -1, -2, -59, -1319306412712, 6, 1319306412763, -1, 2210968111892, -3530274521888, 255, 3530274522081, -2210968112387, 2210968111937, -2210968111949, 57, -46, -1, 2210968111937, -1, -2210968111890, 12, -13, -1319306412765, 1319306412764, -1319306409731, 1319306409686, -1, -11, 10, -1319306408859, -4742, 1319306413600, -1, -10, 2210968111944, -2210968111937, -1319306413597, 1319306413587, 57, -58, 10, -11, 9, -10, -1319306412700, 2772, 1319306409986, -59, 10, -11, 58, -1319306408899, -4742, 1319306413582, -1, 11, -12, 10, 59, 2210968112344, -3530274525109, 2772, 3530274522324, -2, -1, -3530274522322, 3530274521878, 11, 430, -2, -2210968112324, -1, -58, -12, -1319306413578, 3530274525970, -1, -2210968112394, 2210968112402, -11, -435, -2210968111886, -71, -1, 2210968111957, -1, -77365005169, -1, -1, 77365005169, -2453782909099, 2453782909098, -1, -1, -3530274525903, -64, 4354, 3530274521612, -3530274526030, 3530274526039, -11, -3530274525901, -191, 127, -128, 64, 1392, 3530274524636, -1, -2453782909094, -1, 2453782909094, 10, -2453782909105, 2453782909094, -1, -3530274524627, 3530274524625, -2453782909104, 2453782909102, 10, -11, -3530274526146, 3452909521153, -1, -1, -3452909520511, 1076491616403, -1076491612494, 1076491612493, 2376417904084, -1, 77365005473, -1, -2210968112392, 10, -1, -1319306412697, 1076491615523, 242814797171, -1319306413572, -6, 3530274525422, -3530274521761, -4358, 3452909521281, -2133603107009, 2210968112395, -2210968112396, -1319306414335, -64, -64, -64, 191, -64, -64, -64, 3452909521445, -3452909521125, 3530274526053, -1, -77365004836, 77365004835, -3530274525418, -1, 3530274525969, -77365005387, 77365005386, -77365005409, -1, 77365005314, -1, -3530274526886, -64, -64, -64, 191, -192, 128, -64, 3452909521701, -2133603107006, -1, -1, -2, 2210968112322, -2453782909463, -1076491617103, 3530274526557, -2453782909455, 2453782909013, -3530274521501, -4550, 3530274526036, -1, -3530274525404, 3918, -4550, 1076491617049, 2453782908985, -2210968111848, -242814797148, -1076491616401, -6, 1319306413551, 2210968112311, -2453782909446, -10, 2453782908993, 448, -3530274522185, -4358, 3530274526092, -2453782908992, 9, -11, 2453782908993, -2210968111858, 2210968111867, -11, -3530274526020, -6, 3530274526034, 443, -2453782909443, 10, 2453782908989, -3530274525401, 3530274525844, -1, 10, -1, -3530274526542, -6, 1076491617107, 2453782909171, 448, -1, -1, -3530274526719, -6, 3530274526539, -2453782909442, 2453782909440, -3530274526532, 3530274526272, -182, -2210968111863, -1319306414162, 1319306414337, -1, -1, -242814797302, -1076491615519, 1319306412820, -1, -242814797302, 242814797129, -1319306412647, -887, 1319306413531, -1, -1, -1319306414227, 71, -6, 1525, -6, 3530274524696, -2210968112056, -1, 10, 2210968112045, -3530274526273, 1319306414226, -1319306414232, 1319306414222, -1, 10, -11, -1, 2210968112059, -3530274524694, -1519, 638, 3452909520459, -3452909521163, 1319306414227, -3, -1319306412634, 3452909519543, -3452909519549, 1319306412800, 2133603106748, -1, -2133603106748, -63, -1319306414886, -64, -64, -64, 191, -64, -64, -64, 1456, 1319306413622, -1, -1, -1319306414318, 1319306414381, -1319306414382, 72, 3530274526186, -1, -1, -2210968111875, -1319306414382, 6, 1586, 3530274525096, -434, -2210968111935, -1, -1319306413619, -1, 1319306413690, -1319306414389, 3530274526261, -2210968111875, -1319306412800, 1319306412799, -1319306413687, 1319306413675, -1319306414301, -6, 1519, -882, -704, 3530274526685, -11, -3530274525976, 1319306413593, -1319306414292, 3530274526674, -3530274525088, 1319306412704, -3, -1319306413589, 6, 1319306413582, 2133603107009, -3452909521228, 3452909521200, -2133603106906, -1319306412776, 1319306412775, 2133603106906, -1, 77365004983, -3530274525551, 1319306413662, -1319306415175, -64, -64, -64, 191, -192, 128, -64, 1319306415234, 2210968112292, -2210968112293, -1, -1319306414216, -6, 1319306414293, 2210968111873, -2, -3530274525533, 3530274525882, -350, -1, 350, -3530274526507, -72, 1319306414358, 2210968111870, -77365004993, -1, -1, -1, -1, -125, -2133603106742, -1319306414365, 3452909521106, 77365005127, -3530274526161, 3452909521134, -1, 77365004932, -3530274525439, 3452909520407, -1, -3452909522173, -64, -1, -63, -1, -63, 191, -192, 3452909522466, -3452909519612, 3452909519483, -2, 77365005061, -2453782908988, -1, -1076491618470, -64, -64, 3530274527586, -1, -3530274527649, -1, 192, -64, -64, 3040, 1076491615558, -1076491617079, 1076491617078, -1, 242814797124, -242814797125, 242814797124, -1319306414201, 1076491617076, -1, -1076491615554, 1076491615553, -1, 242814797124, -1, -1319306412676, -888, 1319306413562, -1, -1319306414188, -6, 3530274526042, -2210968111841, 2210968112027, -1, -3530274526223, -6, 3530274526678, -2, -3530274525155, -1516, 628, 1319306413724, -1319306412831, -6, 1319306412836, -163, -1, -1319306414251, 57, 1319306414178, 2210968112501, -3530274526743, 1585, 1319306412839, -1319306413722, -6, 3452909520480, -3452909519592, 3452909519591, -1, -1, -3452909521174, 64, 3452909521081, -2, -2133603106807, -1, -1319306415910, -64, 3530274528359, -77365005576, -3452909522847, -1, 128, -64, -127, -1, 2464, 1319306413638, -2, -1, -1319306414268, 3530274526208, -2210968111941, -1319306413629, 3530274525567, -1, -2210968111938, -1, 2210968111938, -2210968111939, -1319306414259, -6, 3530274526203, -1, -1, 9, -2210968111948, -1319306414319, 3530274526713, -3530274526019, 1319306413701, -1319306414334, 3530274526651, -3530274525128, 3530274525127, -2210968112318, -1, -2, -1, -1319306412812, 1319306412811, -1, -1319306413694, -6, 1319306413605, -1, -1319306413605, 3530274526024, -2210968112324, 8, -11, -1319306412807, 1319306412806, 9, -1319306412816, 3530274525134, -3530274525135, -1575, -6, 3530274526715, -1, -1, -2, 10, -3530274526716, -6, 3530274526710, -3530274526012, 3530274526011, -3530274525122, -6, 3530274525124, -3530274526700, -6, 3530274526705, -3530274526007, 1319306413672, 2210968112333, 9, -2210968112344, 2210968112334, -3530274525121, 6, 3452909519531, -1, -1, -3452909521054, 3452909521020, -1, -1, -3452909522907, -64, -64, -64, 191, 1889, 3452909521184, -1, 77365005465, -3530274526710, 698, -6, 1076491616453, 2376417904068, -1, -2133603106939, 2133603106941, 77365004934, -3530274528230, -64, 1076491619301, -1, -1, 242814797117, -1319306413579, -693, 1076491617154, -1, -1076491615571, -1576, 1319306414262, -1, 2133603107046, -2133603107036, -1319306413585, 3452909520620, -2376417904162, 2376417904161, -3452909523392, -128, 1076491619358, -1076491619294, 1076491619284, 2453782909001, -1, -3530274524558, 3530274524567, -1, -1, -1, -1, -3530274526076, -6, 3530274526072, -1, 10, -3530274524563, 3530274524562, -1, -3530274526074, -6, 3530274526064, -1, 8, -3530274526066, 3452909521243, -2133603107036, 2133603107007, -2, 77365005321, -1, -3530274528870, -64, -64, -64, 191, -64, 3034, 1319306413563, 10, -1319306412691, 3530274525008, 10, -11, 10, -1, -10, 9, -2210968112162, -1, -1319306413735, -6, 888, 1319306412684, 2210968112321, 10, -1, -3530274526594, 3530274526584, -1, 10, -3530274525896, 3530274525609, -1, -3530274526245, 1525, 3530274525007, -1, -10, -3530274525891, 3530274525890, 10, -11, -1, -1, -3530274524999, -1513, -6, 3530274526527, -11, -1, 8, -77365005396, -1, 77365005385, -77365005419, -1, -2133603106806, -1319306416870, -64, -64, 3530274529230, -3530274526573, -6, -2715, 63, -64, 3452909523868, -3452909521092, 1319306414277, -1, 10, -1319306414281, -6, 3530274526224, -1, -1, -2210968111936, -1, -10, -1, 10, -11, 10, 2210968111938, -2210968111939, 70, 2210968111868, -3530274525588, 1319306413640, -1, 10, 2210968111938, -3530274526214, 3530274526213, -2210968111867, 2210968111866, -1, -1, -1, -1, -3530274526215, 3530274526214, -1, -2210968111861, -1, 2210968111860, -2210968111861, 2210968112168, -2210968112169, -77, -1319306412751, 1319306412827, -1, -1, -1, -1, -1, -1319306412823, 1319306412822, -1, -1, -69, 68, -1, -1, -1319306412812, -6, 1319306412817, -1319306413697, -6, 1319306413635, -1, 11, -12, -1319306414318, 1319306414317, -1319306414323, 1319306414322, -1319306414265, 3530274526209, -1, -2210968111872, -1, -2, 2210968111874, -2210968111944, -1, -1, 71, -62, 2210968111935, -3530274525573, 6, 1319306413619, 2210968111947, -3530274524685, -1514, -6, 3530274526203, 11, -2, -1, -3530274526262, 3530274526753, -1, -2210968112370, -1319306414389, 1319306414388, -1, -1, -1, -1319306413695, 893, 1319306412801, -1319306417159, 3464, 6, 1319306413685, 10, -78, -1, -1319306412729, -1583, 6, 3530274526247, 10, -3530274529038, 3530274529027, -3530274526195, 632, 3452909520440, -1, 129, -1, 77365005001, -3530274526195, -57, 3452909521217, -3452909521223, 3530274526736, -77365005515, -3452909520532, 3530274526046, -574, -3530274529063, -64, -64, 3452909524122, -1, -1, 77365005644, -2453782909565, -1, -1076491620262, -64, -64, 3452909524444, -3452909524188, 63, -64, -64, -255, -1, 3344, 3530274526093, -1, 10, -11, -1, -1, -1, 9, 578, -1, -3530274526732, 3530274526731, -586, -3530274529494, 3530274530079, -3530274529824, -128, 448, 1076491619933, -1, -1076491616463, 1076491616473, -1076491616479, 1076491616468, 10, -1, -10, 242814797132, 2210968111864, -10, -2453782908987, 10, -11, 2453782909575, -1, -2, -2453782909562, -1, 2453782909562, -585, -2210968111853, -1319306417062, 1076491619928, -1, 10, -2, -1076491617104, 3530274526083, -2453782908989, 2453782908988, -2453782908989, 242814797137, 2210968112448, -2210968112449, -1, 2210968112438, -3530274526034, 1319306413595, 2210968112438, -2453782909573, 242814797132, -242814797133, -1, 2453782908990, -2453782908991, -1, -1, 242814797132, -242814797134, 2453782909579, -2210968112447, -1319306414269, 3530274526140, -3530274526146, 3530274526721, -1, -3530274526663, 3530274526077, 11, -2453782909005, -1, -1076491619915, 3530274529495, 10, -11, -1, -1, 10, -1, -3530274526726, 3530274526716, -1, -582, 7, -3530274526077, 1319306414222, -1319306414228, 632, 1319306413585, 2210968112439, -1, -2210968112440, 10, -1, 165, -1, -242814797303, -1076491619912, -6, -1, 3530274529096, -1, -182, 181, -185, -2210968111852, -11, 10, -1319306413591, -689, 3530274526711, -2210968112433, -1319306417056, 1319306417045, -1319306414206, -6, -2827, 3530274529480, -1, -1, 9, -3530274529488, -6, 1319306417044, 11, -2, -11, -1319306417671, 1319306417670, 10, -11, 10, -11, -1, 10, -11, 10, -1319306417677, 3452909524609, -2133603106934, -1319306414267, 3530274526706, -77365005377, -1, -3452909524107, 3530274529492, -77365005386, -2, -163, 77365005549, -77365005550, 77365005549, -77365005550, 133, -1, -2133603106880, -1319306417884, -64, -64, -64, 63, -64, 192, 693, 3452909524071, -2133603106881, -63, -1, -1, -1, -1, -1319306418071, 4420, -4102, -382, -64, 3910, 1319306414288, -1319306418262, 1319306418261, 9, -1, -10, -2, -1319306418066, -64, -64, 3856, 3530274526604, 10, -3530274526560, 3530274526232, -1, -1, -3530274529694, 1319306417746, -1, 79, -80, 78, -10, -1319306414343, 1319306414274, 2210968112280, -330, -2210968111951, -1, -2, 10, 2210968111943, -2210968111955, 10, -11, -1319306417738, 1319306417737, -1, 2210968111957, -3530274529062, 6, 3530274529377, -323, -2210968111881, -1319306414340, -6, 3530274526224, -2210968111956, 2210968111955, -2210968111945, 2210968112271, -3530274530008, -6, 1319306417731, 91, -12, -1, -68, 67, -1, 10, -11, 2210968112218, -11, 10, -1, -3530274526604, 46, -52, 3530274526600, -1, 10, -3530274530016, 3530274529678, 10, -2210968111879, -1, -10, -1, 10, -11, -1319306417171, 1319306417170, 2133603106750, -1, 77365005471, -77365005473, 77365005462, -1, 11, -1, -336, -1, -2, -3530274526210, -4038, 3530274530247, -77365005170, -1, 77365005509, -77365005507, -3452909521098, 3530274526595, -1, -3530274530639, -64, 3530274530702, -3530274530639, -127, 63, -128, 3530274530829, -3530274529373, 3530274529372, 9, -3530274526600, 3530274526590, -2453782909424, 2453782909423, -2453782909425, 2453782909433, -2453782909434, 2453782909424, -1, -1, -3530274526586, 3530274526585, -1, 10, -11, 191, -1, -1, -183, -3530274526590, 3530274526772, -1, -492, -11, 9, -2453782909113, -1, -1, 10, -11, -1, -1076491617161, 1076491617160, -1076491619934, -6, 1076491619938, -1, -2, -1076491617156, 1076491617155, 2453782909113, -1, -1, -3530274529046, 3452909524053, 77365005001, -77365005003, -2, 77365005002, -77365005037, -1, -3452909521234, 1076491617154, -1076491620562, -887, -64, 1076491621510, 10, 242814797142, -242814797154, -1076491620552, -6, 635, 1076491619924, 8, -1076491621581, -65, 128, 3452909525593, -2376417904086, -1076491621123, 3530274530140, -1, -2210968111705, 2210968111703, -1, -2210968111704, -1319306414395, 1076491617092, -1076491617155, 1319306414456, 2210968111704, -1, -2453782909005, 2453782909014, 574, -3530274526743, 3530274526742, -583, -2453782909008, 2453782909007, -1, -2210968111860, -1319306418272, 3530274530131, -3530274528935, 3530274528934, 10, 575, -586, -2210968111859, 2210968112442, -3530274526738, 3530274526737, -1, -1, -1, -2210968112273, 2210968111693, 579, -580, 10, -11, -3530274526153, 3530274526732, -3530274530706, 3530274530126, -1, -1, 591, -2210968112445, 2210968111853, -1, 582, -2210968112435, 2210968111852, 582, -1, -1, -3530274530702, 1319306418269, -1319306417072, 6, 3530274528917, -1, 191, -1, -2210968112041, -2, -1319306417070, -622, -6, 1319306417697, -1, -1, 2210968112445, -10, -3530274530693, -6, 3530274530307, -185, 187, -3530274530305, -6, 3530274530698, -2210968112435, -1319306417066, 6, -1, -6, 1319306417205, -1319306418402, 3983, 3452909521338, -3452909524750, 6, 1319306417686, -1, 2133603107058, 77365005385, -77365005387, 77365005386, -2210968112433, -1319306417076, -1196, 3452909525284, -1, -1, -3452909524087, -1761, -64, -64, -64, 127, -64, -64, 758, 1319306418261, 2210968112334, 11, -3530274529405, -6, 1319306417065, -1319306417688, 1319306417687, -1, 10, -11, 10, -11, 2133603106874, -2133603106875, 2210968112022, -2210968112023, 2210968112022, -2210968112013, 2210968112012, -3530274529704, 1319306417682, 2133603106943, -2133603106934, 2133603106933, -3452909526019, 3452909526018, -3452909526019, 3452909526018, 77365005079, 305, -3530274530579, 6, -824, -6, 3530274531399, 190, -2210968112377, 2210968112376, -3530274531583, -6, 5, -6, 3452909525915, 67, -2, -66, -1, -3452909524509, 1319306417777, -1319306419238, 881, 3452909525157, 77365005610, -3530274531712, -64, -64, 127, -64, 1584, 3530274529686, -2210968111904, -11, 10, -11, -1, 10, -11, 10, -1, -1319306417772, -6, 1319306417768, -1319306419478, -64, -64, 1319306419605, -1319306419478, -64, -64, 2464, 1319306417141, -242814797167, -11, 242814797177, -1, 10, -11, -242814797176, -1, -1076491620587, 1319306417763, -242814797166, 242814797165, -1, -2, -1319306418332, 3530274530258, -3530274531076, 1076491621977, 2376417904105, -2133603106933, -242814797162, -1, -1076491619970, 1076491619960, -1, 10, -11, 2376417904107, -2376417904108, -1076491619958, 6, -631, 1319306417758, -1, -2, -1, -1, -242814797177, -1, 242814797177, -1319306417128, 1076491619950, 2376417904077, -2376417904078, -2, -1076491622471, 1319306419651, -1319306419715, 1319306419714, -1319306417127, 1076491619944, -1076491621964, -631, -64, 3452909526742, -3452909526551, -64, -64, -64, 3452909526742, -3452909525222, 3530274530157, -1, 10, -2210968111844, -1, -1, 9, -1319306417758, 1319306417748, -242814797180, -1076491621964, 3530274531567, -2210968112293, -1, 2210968111705, 10, -2210968111845, 2210968111834, 10, -1, -3530274530156, 1076491621138, -1076491620573, 1076491620572, -1076491620573, -570, 3530274530152, -1, 10, -11, 10, -1, -3530274530160, -824, 3530274531563, -582, -1, 580, -3530274529541, 1319306417103, -1319306417729, 625, -1189, 3530274530145, -2210968111724, -1319306417233, 3530274528944, -3530274530139, 1319306418298, -4, -1319306417100, 1319306417233, -1, -1319306417227, -6, 3530274528942, -3530274529559, -6, 1319306417723, -1, 2210968112444, -2210968112324, -122, -1, -1319306419112, 3530274531558, -2210968112324, -1, -1319306417841, 1319306417718, 2210968112037, -3530274529126, -6, 1319306417217, 2210968112324, 10, -11, -1, -2210968112323, 2210968112322, -3530274531554, 3530274531553, -1, -2210968112443, 10, 118, -1319306417222, 1319306417092, 2210968112451, -3530274531553, -6, 3530274531547, -3530274530723, 1319306418282, -1, 2210968111860, -2210968111733, -1319306417217, 1319306417098, -1319306418290, 1319306418288, -1319306417719, 1319306417717, -2, -3, -1319306417707, -6, 3530274529759, -3530274530328, 1319306418396, -1319306417204, 3452909523951, 77365005586, -11, -1, -77365005575, -1, -3452909524573, 3452909524529, -1, 77365005619, -3530274531539, 3530274531538, -77365005619, 242, -129, -2376417904026, -1076491622822, -64, -64, 127, -64, -127, 1831, 1192, 3452909524145, -1, -128, -3452909525203, 3530274530298, -77365004969, -128, -2376417904025, 2453782909118, -77365005134, -1, -3452909527059, -64, -64, -1, 128, -64, -128, 3452909527251, -2376417903983, 2453782909118, -77365005002, -1, -1, 77365005003, 7, -10, 330, -1, -3530274532774, -64, 3530274532517, -1, -3530274532580, 1319306420631, -1319306420632, 128, -191, -1, 128, 1392, 3530274531437, -1, 10, -2210968112261, 2210968112250, 10, -1, -10, -2210968112260, 2210968112259, 10, -11, 10, -1, -3530274531442, 3530274531432, 9, -11, 10, -3530274531441, 3530274531426, -310, 316, -3530274531433, 3530274531431, -1, -1, -1, -2210968112241, -1319306419182, 1319306419171, -1319306419177, 1319306419187, 2210968111929, -3530274529098, 3530274529097, -2210968111939, 2210968111938, -2453782909120, -1, -1076491619976, 1319306417158, -1, -1319306418350, 3530274530289, -1, -1, -2453782909119, -1, -1076491620591, -6, 1319306417779, -1319306417157, 3530274529589, -1, -3530274531605, 1319306419286, -106, -7, 2210968112430, -2210968112318, 2210968111826, -3530274529095, 3530274529094, 10, -3530274529727, 3530274529716, -3530274531110, 3530274531119, -3530274530294, 3530274530283, -1, -1, -3530274530282, 1319306418335, -1319306419160, -1, 3530274531584, -3530274531585, 832, -833, 1319306419162, 2133603106944, 77365005479, -77365005480, -1, -3452909525272, 3452909525231, -1, -1, -3452909524664, 3530274529613, -1, -3530274532582, -64, -64, -64, 191, -64, -64, -64, 2592, 3530274530173, -1, 571, -1, -3530274531570, 3530274531010, 559, -560, -1, -10, -3530274528976, 1319306417271, -1, -1319306417894, 6, 617, 6, 1319306417138, 2210968111832, 10, -11, -3530274528976, 1319306417144, 2210968111841, -3530274530172, -6, 576, -1405, 1319306419270, 2210968111735, -1, -10, 561, -3530274531556, 3452909526176, 77365004826, -3530274530173, 3530274530163, -1, -3530274528969, 1319306417248, 2210968111720, -1, -77365004814, -1, -2133603106906, -1319306417869, 1319306417868, -1, -1319306417245, 1319306417243, -1, -1, -1, 2210968111727, 10, -11, -2210968111728, 2210968111738, -2210968111728, -1319306417249, 1319306417238, 2133603106872, 2, -3452909527956, -64, -64, -64, 3452909528147, -3452909528020, -64, -64, 1319306421273, -1, -1, -1, -1319306418425, 3530274530158, 10, -12, 10, -1, -10, -3530274528964, 1319306417233, -1, -1, -1, -1, -1, 2210968111735, -1, -3530274530154, 1319306418419, -1, -1, -1, -1, -1319306421321, 1319306421319, -1, 2210968111929, -2210968111931, 2210968111930, -2210968111932, 2133603106750, -3452909525153, -6, 1319306418317, -1319306417739, 1319306417738, -2, -1, -1, -1319306418313, 3452909525159, -1, -49, -1, -1, -2376417903909, -1, -1076491624166, -64, -64, -64, 191, -64, -64, -64, 256, 1076491624092, 10, -1076491621197, 1076491621195, -1, -1, -1, 2453782909440, -3530274531452, -6, -2080, 1076491624096, 2453782909430, 10, -1, -2453782909451, 242814797133, -1, 2210968112309, -2210968112310, -1, -1, -1319306418308, 3530274530619, 10, -3530274531455, 3530274531146, 295, -2210968112297, -1319306417745, 1319306417734, -242814797132, -2, 242814797132, 9, -10, -1319306418305, 3530274530320, -1, -2210968112005, -11, 2210968112015, -3530274529122, 3530274529121, -1, -3530274529743, 1319306417729, -1, 2210968112314, -300, -2210968112015, -1, -1, -1, -1319306419117, 1392, 6, 1319306417718, -2, -1319306419121, -2080, 1319306421200, 2210968112311, -2210968112312, 2210968112322, 180, -3530274530795, 3530274530315, -4, -2210968111837, -1319306421375, -6, 1319306421198, -1, -2, 2210968112022, -3530274530311, 3530274530310, -2, -1, -2210968111831, -179, -1319306419118, -6, 1399, 6, 3452909524649, 77365005568, -481, -3530274530315, 3530274530305, -1, 10, -11, -2, -3530274529723, -3485, 3452909528088, -3452909526008, -1, -2074, -6, -1, 6, 2080, -2087, 3452909528092, -2133603106794, -1, -1319306418388, -3218, -64, -64, 127, -128, -63, -1, 128, 3452909528464, 77365005118, -2210968111922, 10, 52, -63, -1319306421286, 1319306421296, -1, -10, -1, 10, -11, 10, -1, -1319306417810, 1319306417800, -1, 10, -11, -1319306421275, 3530274533673, -2210968112388, -1, -11, 2210968112398, -1, -3530274530760, -6, 3530274530291, 10, -3530274533212, 3530274533676, 9, -10, -1, 10, -11, -2210968112383, 2210968112393, -77365005476, 77365005003, -77365005004, -3452909526118, 1319306419190, -1, -1, 2133603106929, -3452909524722, -1401, 1319306419193, 2210968112397, -2210968112398, 2210968111932, -2210968111933, 2210968112398, 10, -11, 9, -10, -3530274530187, 3530274530185, -3530274531586, 3530274531585, -2210968112395, 2210968112394, -2210968112384};
        predicted_address = this->current_arressInt - addr_historyArr[total_predictions];    // +2
        cache.prefetch(predicted_address);
//
//
//        predicted_address = this->current_arressInt + 11;    // +2
//        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt + 64;    // +2
//        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt -1;    // +2
//        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt + 384;    // +2
//        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt + 2;    // +2
//        cache.prefetch(predicted_address);
////        predicted_address = this->current_arressInt + 3;    // +3
////        cache.prefetch(predicted_address);
////        predicted_address = this->current_arressInt + 5;    // +8
////        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt - 10;    // -10
//        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt + 6;    // +6
//        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt + 4;    // +4
//        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt - 32;    // -32
//        cache.prefetch(predicted_address);
//        predicted_address = this->current_arressInt + NXT_LINE_OFFSET;      // +1
//        cache.prefetch(predicted_address);
////        predicted_address = this->current_arressInt + NXT_LINE_OFFSET+55;    // +56
////        cache.prefetch(predicted_address);


//        if (total_predictions % 7 == 0){
//        }
        previous = this->current_arressInt;
        total_predictions++;
        return;
    }

    string toString(){

        std::stringstream ss;

        // Format addr and pf_addr with fixed length
        ss << "addr: " << std::setw(13) << std::setfill('0')  << previous << std::dec
           << " pf_addr: " << std::setw(13) << std::setfill('0')  << predicted_address << std::dec
           << "\thit%: " << get_effectiveness() << "%"
           << "\thits: " << successful_predictions
           << "\tseqH: " << subseq_Hits
           << "\tseqM: " << subseq_Misses
           << "\ttotal: " << total_predictions;

        return ss.str();
    }
    friend std::ostream& operator<<(std::ostream& os, NextLine_Prefetcher obj) {
        return os << obj.toString();
    }

    double get_effectiveness() const {
        if (total_predictions > 0) {
            return static_cast<double>(successful_predictions) / static_cast<double>(total_predictions) * 100;
        } else {
            return 0.0;
        }
    }
};

// Function to trim whitespace from a string
void trim(std::string &s) {
    s.erase(s.begin(), std::find_if(s.begin(), s.end(), [](unsigned char ch) {
        return !std::isspace(ch);
    }));
    s.erase(std::find_if(s.rbegin(), s.rend(), [](unsigned char ch) {
        return !std::isspace(ch);
    }).base(), s.end());
}
// Function to process a chunk of addresses
std::vector<int64_t> process_chunk(const std::vector<std::string>& chunk) {
    std::vector<int64_t> int_addresses;
    for (const auto& address : chunk) {
        int64_t address_int = std::stoll(address, nullptr, 16);
        int_addresses.push_back(address_int);
    }
    return int_addresses;
}

// Main function
int main(int argc, char* argv[]) {
    std::string addresses;
    // terminal execution command: g++ c_pseudo_prefetcher_simulation.cpp -o c_pseudo_prefetcher_simulation && ./c_pseudo_prefetcher_simulation <FNAME>
    if (argc < 2) {
        std::cout << "Using DEFAULT BK.txt";
        addresses = "./002-addressesHistory/addresses-FULL_Phythia-70M_S1_07-15-1050_part1_part1.txt";
    } else {
        addresses = "./002-addressesHistory/addresses-";
        addresses += argv[1];
        addresses += ".txt";
    }
    std::cout << "Loading file into memory..." << std::endl;

    std::vector<int64_t> theFile;
    int FILE_CHUNK_SIZE = 10000000;
    int i = 1;
    std::ifstream file(addresses);
    if (!file) {
        addresses = "../002-addressesHistory/addresses-BK.txt";
        file = std::ifstream(addresses);
    }
    std::string line;

    // Reading file in chunks
    while (!file.eof()) {
        std::vector<std::string> chunk;
        for (int j = 0; j < FILE_CHUNK_SIZE && std::getline(file, line); ++j) {
            if (!line.empty()) {
                //cout <<"READ: "<<line << endl;
                chunk.push_back(line);
            }
        }
        if (chunk.empty()) break;

        std::cout << "\tChunk: " << i << std::endl;
        i += 1;
        std::vector<int64_t> unique_ints = process_chunk(chunk);

        theFile.insert(theFile.end(), unique_ints.begin(), unique_ints.end());
    }

    std::cout << "Done chunking!" << std::endl;

    class StridePrefetcher {};
    class LocalityPrefetcher {};

    StridePrefetcher stridePref;
    NextLine_Prefetcher nxtLinePref;
    LocalityPrefetcher localityPref;

    // EMULATION OF ADDRESS HISTORY WITH PREFETCHING
    for (const auto& address_int : theFile) {
        //std::cout << address_int << std::endl;
        nxtLinePref.simulate_LRU_NextLine_prefetching(address_int);
//        if (nxtLinePref.subseq_Hits == 0){
//            //cout << "NxtLine: "<<nxtLinePref<<endl;
//        }
        if (nxtLinePref.total_predictions % 50000 ==0){
            cout << "NxtLine: "<<nxtLinePref<<endl;
        }
        //cout << nxtLinePref.cache.print_cache() << endl;
    }
    cout << "NxtLine: " << nxtLinePref << endl;

    return 0;
}
